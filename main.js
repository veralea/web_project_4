!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){var n,r,o=this,i=e.cardData,a=e.templateSelector,u=e.handleCardClick,c=e.handleDeleteClick,s=e.handleLikeClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(){o._element.remove(),o._element=null},(n="_deleteCard")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._cardData=i,this._link=i.link,this._name=i.name,this._likes=i.likes,this._templateSelector=a,this._handleCardClick=u,this._handleDeleteClick=c,this._handleLikeClick=s}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".card").cloneNode(!0)}},{key:"_setEventListeners",value:function(e){var t=this;this._element.querySelector(".card__delete-button").addEventListener("click",(function(e){t._handleDeleteClick()})),this._element.querySelector(".card__like-button").addEventListener("click",(function(e){var n=e.target.classList.contains("card__like-button_state_active")?"DELETE":"PUT";t._handleLikeClick(n),e.target.classList.toggle("card__like-button_state_active")})),e.addEventListener("click",(function(e){return t._handleCardClick(e,t._cardData)}))}},{key:"createCard",value:function(e){this._element=this._getTemplate();var t=this._element.querySelector(".card__picture");return t.setAttribute("src",this._link),t.setAttribute("alt",this._name),this._element.querySelector(".card__title").textContent=this._name,this._element.querySelector(".card__like-counter").textContent=this._likes.length,e&&(this._element.querySelector(".card__delete-button").style.display="block"),this._setEventListeners(t),this._element}},{key:"setLikes",value:function(e){this._element.querySelector(".card__like-counter").textContent=e.length}}])&&e(n.prototype,r),t}(),n=t;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._container=document.querySelector(n),this._renderer=r}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){this._container.innerHTML="",e.forEach(this._renderer)}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&r(t.prototype,n),e}(),i={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},a="#card-template";function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileName=document.querySelector(".".concat(t)),this._profileJob=document.querySelector(".".concat(n)),this._profileAvatar=document.querySelector(".".concat(r))}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._profileName.textContent.trim(),job:this._profileJob.textContent.trim()}}},{key:"setUserInfo",value:function(e){this._profileName.textContent=e.name,this._profileJob.textContent=e.about,this._profileAvatar.style.backgroundImage="url(".concat(e.avatar,")"),this.id=e._id}},{key:"setAvatar",value:function(e){this._profileAvatar.style.backgroundImage="url(".concat(e,")")}}])&&u(t.prototype,n),e}();function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.close()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(".".concat(t))}var t,n;return t=e,(n=[{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__close-button"))&&e.close()}))}}])&&s(t.prototype,n),e}();function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},h(e,t,n||e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function _(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _(this,e)});function a(e,t){var n,r=e.handleFormSubmit,o=e.validator;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t))._handleFormSubmit=r,n._validator=o,n._form=n._popup.querySelector("form"),n._inputsList=n._popup.querySelectorAll("input"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return Array.from(this._inputsList).forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())})),h(y(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._form.reset(),h(y(a.prototype),"close",this).call(this)}},{key:"open",value:function(e){this._validator(),Array.from(this._inputsList).forEach((function(t){t.value=e[t.name]})),h(y(a.prototype),"open",this).call(this)}}])&&p(t.prototype,n),a}(l);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},g(e,t,n||e)}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function E(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"open",value:function(e){var t=e.link,n=e.name,r=this._popup.querySelector("img"),o=this._popup.querySelector("p");r.setAttribute("src",t),r.setAttribute("alt",n),o.textContent=n,g(S(a.prototype),"open",this).call(this)}}])&&b(t.prototype,n),a}(l);function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=t,this._settings=n}var t,n;return t=e,(n=[{key:"_resetFormValidation",value:function(){var e=this;this._formElement.reset(),this._buttonElement.classList.add(this._settings.inactiveButtonClass),this._buttonElement.setAttribute("disabled",!0),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"_getSubmitButton",value:function(){return this._formElement.querySelector(this._settings.submitButtonSelector)}},{key:"_getInputList",value:function(){return Array.from(this._formElement.querySelectorAll(this._settings.inputSelector))}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._settings.inactiveButtonClass),this._buttonElement.setAttribute("disabled",!0)):(this._buttonElement.classList.remove(this._settings.inactiveButtonClass),this._buttonElement.removeAttribute("disabled"))}},{key:"_showInputError",value:function(e){e.classList.add(this._settings.inputErrorClass),e.nextElementSibling.textContent=e.validationMessage,e.nextElementSibling.classList.add(this._settings.errorClass)}},{key:"_hideInputError",value:function(e){e.classList.remove(this._settings.inputErrorClass),e.nextElementSibling.classList.remove(this._settings.errorClass),e.nextElementSibling.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._inputList=this._getInputList(),this._buttonElement=this._getSubmitButton(),this._resetFormValidation(),this._setEventListeners()}}])&&C(t.prototype,n),e}();function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"getInitialUserInfo",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((function(t){return e._getResponseData(t)}))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((function(t){return e._getResponseData(t)}))}},{key:"updateProfile",value:function(e){var t=this,n=e.userData;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:n.name,about:n.job})}).then((function(e){return t._getResponseData(e)}))}},{key:"addNewCard",value:function(e){var t=this,n=e.cardData;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:n.name,link:n.link})}).then((function(e){return t._getResponseData(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._getResponseData(e)}))}},{key:"changeLikes",value:function(e,t){var n=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:t,headers:this._headers}).then((function(e){return n._getResponseData(e)}))}},{key:"updateAvatar",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((function(e){return t._getResponseData(e)}))}}])&&O(t.prototype,n),e}();function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},R(e,t,n||e)}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function q(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(r);if(o){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return q(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._form=t._popup.querySelector("form"),t}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._id)})),R(T(a.prototype),"setEventListeners",this).call(this)}}])&&P(t.prototype,n),a}(l),A=function(e,t){t._form.submit.textContent=e?"Saving...":"Save"},U=document.querySelector(".page"),B=U.querySelector(".profile__edit-button"),F=U.querySelector(".profile__add-button"),V=U.querySelector(".profile__avatar-cover"),N=new L(document.querySelector(".popup__form_type_add"),i);N.enableValidation();var J=new L(document.querySelector(".popup__form_type_edit"),i);J.enableValidation();var H=new L(document.querySelector(".popup__form_type_update-avatar"),i);H.enableValidation();var M=new j({baseUrl:"https://around.nomoreparties.co/v1/".concat("group-12"),headers:{authorization:"79e7d2e5-160a-498a-95ef-9351a4cf4856","Content-Type":"application/json"}}),z=new c("profile__name","profile__job","profile__avatar"),G=new o({renderer:function(e){var t=new n({cardData:e,templateSelector:a,handleCardClick:Q,handleDeleteClick:X,handleLikeClick:Y}).createCard(e.owner._id===z.id);G.addItem(t)}},".cards-grid");M.getInitialUserInfo().then((function(e){z.setUserInfo(e)})).catch((function(e){return console.log(e)})),M.getInitialCards().then((function(e){return G.renderItems(e.reverse())})).catch((function(e){return console.log(e)}));var K=new w("popup_type_img");function Q(e,t){e.preventDefault(),K.open({link:t.link,name:t.name}),K.setEventListeners()}var W=new x("popup_type_delete");function X(){var e=this;W._cardData=this._cardData,console.log(W._cardData),W._id=W._cardData._id,console.log(W._id),W._handleFormSubmit=function(){M.deleteCard(e._cardData._id).then((function(){return e._deleteCard()})).catch((function(e){return console.log(e)})).finally((function(){W.close()}))},W.open(),W.setEventListeners()}function Y(e){var t=this;M.changeLikes(this._cardData._id,e).then((function(e){t.setLikes(e.likes)})).catch((function(e){return console.log(e)}))}var Z=new v({handleFormSubmit:function(e){A(!0,Z),M.updateProfile({userData:e}).then((function(e){z.setUserInfo(e),Z.close()})).catch((function(e){return console.log(e)})).finally((function(){A(!1,Z)}))},validator:function(){return J._resetFormValidation()}},"popup_type_edit");Z.setEventListeners();var $=new v({handleFormSubmit:function(e){A(!0,$),M.addNewCard({cardData:e}).then((function(e){return new n({cardData:e,templateSelector:a,handleCardClick:Q,handleDeleteClick:X,handleLikeClick:Y}).createCard(e.owner._id===z.id)})).then((function(e){G.addItem(e),$.close()})).catch((function(e){return console.log(e)})).finally((function(){A(!1,$)}))},validator:function(){return N._resetFormValidation()}},"popup_type_add");$.setEventListeners();var ee=new v({handleFormSubmit:function(e){A(!0,ee),M.updateAvatar(e.avatar).then((function(e){ee.close(),z.setAvatar(e.avatar)})).catch((function(e){return console.log(e)})).finally((function(){A(!1,ee)}))},validator:function(){return H._resetFormValidation()}},"popup_type_update-avatar");ee.setEventListeners(),B.addEventListener("click",(function(){var e=z.getUserInfo();Z.open(e)})),F.addEventListener("click",(function(){$.open({name:"",link:""})})),V.addEventListener("click",(function(){ee.open({avatar:""})}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cERlbGV0ZUNhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3Rvcih7Y2FyZERhdGEsIHRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsZXRlQ2xpY2ssIGhhbmRsZUxpa2VDbGlja30pIHtcbiAgICB0aGlzLl9jYXJkRGF0YSA9IGNhcmREYXRhO1xuICAgIHRoaXMuX2xpbmsgPSBjYXJkRGF0YS5saW5rO1xuICAgIHRoaXMuX25hbWUgPSBjYXJkRGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpa2VzID0gY2FyZERhdGEubGlrZXM7XG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrXG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZCA9IGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcilcbiAgICAuY29udGVudFxuICAgIC5xdWVyeVNlbGVjdG9yKCcuY2FyZCcpXG4gICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiBjYXJkO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKHBpY3R1cmUpIHtcbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKCk7XG4gICAgICB9KTtcbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZF9fbGlrZS1idXR0b25fc3RhdGVfYWN0aXZlXCIpID8gXCJERUxFVEVcIiA6IFwiUFVUXCI7XG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayhtZXRob2QpO1xuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9zdGF0ZV9hY3RpdmVcIik7XG4gICAgICB9KTtcbiAgICBwaWN0dXJlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4gdGhpcy5faGFuZGxlQ2FyZENsaWNrKGUsIHRoaXMuX2NhcmREYXRhKSk7XG4gIH1cblxuICBjcmVhdGVDYXJkKGNhbkJlRGVsZXRlZCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIGNvbnN0IHBpY3R1cmUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19waWN0dXJlJyk7XG5cbiAgICBwaWN0dXJlLnNldEF0dHJpYnV0ZSgnc3JjJywgdGhpcy5fbGluayk7XG4gICAgcGljdHVyZS5zZXRBdHRyaWJ1dGUoJ2FsdCcsIHRoaXMuX25hbWUpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1jb3VudGVyXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICAgIGlmIChjYW5CZURlbGV0ZWQpe1xuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycyhwaWN0dXJlKTtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgX2RlbGV0ZUNhcmQgPSAoKSA9PiB7XG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIHNldExpa2VzKGxpa2VzKSB7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtY291bnRlclwiKS50ZXh0Q29udGVudCA9IGxpa2VzLmxlbmd0aDtcbiAgfVxuXG59O1xuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XG4gICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgaXRlbXMuZm9yRWFjaCh0aGlzLl9yZW5kZXJlcik7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIlxufTtcblxuZXhwb3J0IGNvbnN0IHByb2ZpbGUgPSB7XG4gIG5hbWVTZWxlY3RvcjogXCJwcm9maWxlX19uYW1lXCIsXG4gIGpvYlNlbGVjdG9yOiBcInByb2ZpbGVfX2pvYlwiLFxuICBhdmF0YXJTZWxlY3RvcjogXCJwcm9maWxlX19hdmF0YXJcIlxufTtcblxuZXhwb3J0IGNvbnN0IGFjY2VzcyA9IHtcbiAgdG9rZW46IFwiNzllN2QyZTUtMTYwYS00OThhLTk1ZWYtOTM1MWE0Y2Y0ODU2XCIsXG4gIGdyb3VwSWQ6IFwiZ3JvdXAtMTJcIlxufTtcblxuZXhwb3J0IGNvbnN0IGNhcmRUZW1wbGF0ZSA9IFwiI2NhcmQtdGVtcGxhdGVcIjtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IobmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke25hbWVTZWxlY3Rvcn1gKTtcbiAgICB0aGlzLl9wcm9maWxlSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7am9iU2VsZWN0b3J9YCk7XG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2F2YXRhclNlbGVjdG9yfWApO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgY29uc3QgdXNlckRhdGEgPSB7XG4gICAgICBuYW1lOiB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudC50cmltKCksXG4gICAgICBqb2I6IHRoaXMuX3Byb2ZpbGVKb2IudGV4dENvbnRlbnQudHJpbSgpXG4gICAgfTtcbiAgICByZXR1cm4gdXNlckRhdGE7XG4gIH1cblxuICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgICB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICAgIHRoaXMuX3Byb2ZpbGVKb2IudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuICAgICAgdGhpcy5fcHJvZmlsZUF2YXRhci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7ZGF0YS5hdmF0YXJ9KWA7XG4gICAgICB0aGlzLmlkID0gZGF0YS5faWQ7XG4gIH1cblxuICBzZXRBdmF0YXIoYXZhdGFyKSB7XG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7YXZhdGFyfSlgO1xuICB9XG5cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcil7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtwb3B1cFNlbGVjdG9yfWApO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLChldnQpID0+IHtcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfb3BlbmVkJylcbiAgICAgICAgICB8fCBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlLWJ1dHRvbicpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgaGFuZGxlRm9ybVN1Ym1pdCwgdmFsaWRhdG9yIH0sIHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl92YWxpZGF0b3IgPSB2YWxpZGF0b3I7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCJmb3JtXCIpO1xuICAgIHRoaXMuX2lucHV0c0xpc3QgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIik7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgaW5wdXRzRGF0YSA9IHt9O1xuICAgIEFycmF5LmZyb20odGhpcy5faW5wdXRzTGlzdCkuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0c0RhdGFbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gaW5wdXRzRGF0YTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxuXG4gIG9wZW4oaW5wdXRzRGF0YSkge1xuICAgIHRoaXMuX3ZhbGlkYXRvcigpO1xuICAgIEFycmF5LmZyb20odGhpcy5faW5wdXRzTGlzdCkuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LnZhbHVlID0gaW5wdXRzRGF0YVtpbnB1dC5uYW1lXTtcbiAgICB9KTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICB9XG5cbiAgb3Blbih7bGluaywgbmFtZX0pIHtcbiAgICBjb25zdCBpbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpO1xuICAgIGNvbnN0IGNhcHRpb24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCdwJyk7XG4gICAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBsaW5rKTtcbiAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ2FsdCcsIG5hbWUpO1xuICAgIGNhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoZm9ybSwgc2V0dGluZ3MpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybTtcclxuICAgIHRoaXMuX3NldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgfVxyXG5cclxuICBfcmVzZXRGb3JtVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XHJcblxyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9nZXRTdWJtaXRCdXR0b24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRMaXN0KCkge1xyXG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9zZXR0aW5ncy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgaW5wdXQubmV4dEVsZW1lbnRTaWJsaW5nLnRleHRDb250ZW50ID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBpbnB1dC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgaW5wdXQubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuZXJyb3JDbGFzcyk7XHJcbiAgICBpbnB1dC5uZXh0RWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCkge1xyXG4gICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKXtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2dldElucHV0TGlzdCgpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2dldFN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgdGhpcy5fcmVzZXRGb3JtVmFsaWRhdGlvbigpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yIChvcHRpb25zKXtcbiAgICB0aGlzLl9iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gIH1cblxuICBfZ2V0UmVzcG9uc2VEYXRhKHJlcykge1xuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5qc29uKCk7XG59XG5cbiAgZ2V0SW5pdGlhbFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAse1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pLnRoZW4ocmVzID0+IHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpKTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KS50aGVuKHJlcyA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XG4gIH1cblxuICB1cGRhdGVQcm9maWxlKHsgdXNlckRhdGEgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAse1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiB1c2VyRGF0YS5uYW1lLFxuICAgICAgICBhYm91dDogdXNlckRhdGEuam9iXG4gICAgICB9KVxuICAgIH0pLnRoZW4ocmVzID0+IHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpKTtcbiAgfVxuXG4gIGFkZE5ld0NhcmQoe2NhcmREYXRhfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2Ase1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGNhcmREYXRhLm5hbWUsXG4gICAgICAgIGxpbms6IGNhcmREYXRhLmxpbmtcbiAgICAgIH0pXG4gICAgfSkudGhlbihyZXMgPT4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcykpO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChpZCkge1xuICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9YCx7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4ocmVzID0+IHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpKTtcbiAgfVxuXG4gIGNoYW5nZUxpa2VzKGNhcmRJZCwgbWV0aG9kKSB7XG4gICAgcmV0dXJuIGZldGNoIChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pLnRoZW4ocmVzID0+IHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpKTtcbiAgfVxuXG4gIHVwZGF0ZUF2YXRhcihhdmF0YXIpIHtcbiAgICByZXR1cm4gZmV0Y2ggKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAse1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IGF2YXRhclxuICAgICAgfSlcbiAgICB9KS50aGVuKHJlcyA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cERlbGV0ZUNhcmQgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yIChwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCJmb3JtXCIpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5faWQpO1xuICAgIH0pO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCByZW5kZXJMb2FkaW5nID0gKGlzTG9hZGluZywgcG9wdXApID0+IHtcbiAgcG9wdXAuX2Zvcm0uc3VibWl0LnRleHRDb250ZW50ID0gaXNMb2FkaW5nID8gXCJTYXZpbmcuLi5cIiA6ICdTYXZlJztcbn1cbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBzZXR0aW5ncywgYWNjZXNzLCBwcm9maWxlLCBjYXJkVGVtcGxhdGUgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZVwiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvclwiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGlcIjtcbmltcG9ydCBQb3B1cERlbGV0ZUNhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBEZWxldGVDYXJkXCI7XG5pbXBvcnQgeyByZW5kZXJMb2FkaW5nIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzXCI7XG5cbmNvbnN0IHBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZScpO1xuY29uc3QgZWRpdEJ1dHRvbiA9IHBhZ2UucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XG5jb25zdCBhZGRCdXR0b24gPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XG5jb25zdCB1cGRhdGVBdmF0YXJCdXR0b24gPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXItY292ZXInKTtcblxuXG5jb25zdCBhZGRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX3R5cGVfYWRkXCIpLHNldHRpbmdzKTtcbmFkZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5jb25zdCBlZGl0VmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybV90eXBlX2VkaXRcIiksc2V0dGluZ3MpO1xuZWRpdFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5jb25zdCB1cGRhdGVBdmF0YXJWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX3R5cGVfdXBkYXRlLWF2YXRhclwiKSxzZXR0aW5ncyk7XG51cGRhdGVBdmF0YXJWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBgaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS8ke2FjY2Vzcy5ncm91cElkfWAsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBhY2Nlc3MudG9rZW4sXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgfVxufSk7XG5cbmNvbnN0IHByb2ZpbGVJbmZvID0gbmV3IFVzZXJJbmZvKHByb2ZpbGUubmFtZVNlbGVjdG9yLCBwcm9maWxlLmpvYlNlbGVjdG9yLCBwcm9maWxlLmF2YXRhclNlbGVjdG9yKTtcblxuXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKHtcbiAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBuZXcgQ2FyZCAoe1xuICAgICAgICBjYXJkRGF0YTogaXRlbSxcbiAgICAgICAgdGVtcGxhdGVTZWxlY3RvcjogY2FyZFRlbXBsYXRlLFxuICAgICAgICBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxuICAgICAgICBoYW5kbGVMaWtlQ2xpY2tcbiAgICB9KS5jcmVhdGVDYXJkKGl0ZW0ub3duZXIuX2lkID09PSBwcm9maWxlSW5mby5pZCk7XG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbiAgfVxufSwgJy5jYXJkcy1ncmlkJyk7XG5cbmFwaS5nZXRJbml0aWFsVXNlckluZm8oKVxuICAudGhlbigocmVzdWx0KSA9PiB7XG4gIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKHJlc3VsdCk7XG59KVxuLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuXG5hcGkuZ2V0SW5pdGlhbENhcmRzKClcbi50aGVuKChpbml0aWFsQ2FyZHMpID0+IGNhcmRMaXN0LnJlbmRlckl0ZW1zKGluaXRpYWxDYXJkcy5yZXZlcnNlKCkpKVxuLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgncG9wdXBfdHlwZV9pbWcnKTtcblxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKGUsIGNhcmREYXRhKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgcG9wdXBXaXRoSW1hZ2Uub3Blbih7bGluazogY2FyZERhdGEubGluaywgbmFtZTogY2FyZERhdGEubmFtZX0pO1xuICBwb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xufVxuXG5jb25zdCBwb3B1cERlbGV0ZUNhcmQgPSBuZXcgUG9wdXBEZWxldGVDYXJkKCdwb3B1cF90eXBlX2RlbGV0ZScpO1xuXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDbGljaygpIHtcbiAgcG9wdXBEZWxldGVDYXJkLl9jYXJkRGF0YSA9IHRoaXMuX2NhcmREYXRhO1xuICBjb25zb2xlLmxvZyhwb3B1cERlbGV0ZUNhcmQuX2NhcmREYXRhKTtcbiAgcG9wdXBEZWxldGVDYXJkLl9pZCA9IHBvcHVwRGVsZXRlQ2FyZC5fY2FyZERhdGEuX2lkO1xuICBjb25zb2xlLmxvZyhwb3B1cERlbGV0ZUNhcmQuX2lkKTtcbiAgcG9wdXBEZWxldGVDYXJkLl9oYW5kbGVGb3JtU3VibWl0ID0gKCkgPT4ge1xuICAgIGFwaS5kZWxldGVDYXJkKHRoaXMuX2NhcmREYXRhLl9pZClcbiAgICAudGhlbigoKSA9PiB0aGlzLl9kZWxldGVDYXJkKCkpXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcG9wdXBEZWxldGVDYXJkLmNsb3NlKCk7XG4gICAgfSk7XG4gIH07XG4gIHBvcHVwRGVsZXRlQ2FyZC5vcGVuKCk7XG4gIHBvcHVwRGVsZXRlQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVMaWtlQ2xpY2sobWV0aG9kKSB7XG4gIGFwaS5jaGFuZ2VMaWtlcyh0aGlzLl9jYXJkRGF0YS5faWQsIG1ldGhvZClcbiAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgIHRoaXMuc2V0TGlrZXMocmVzdWx0Lmxpa2VzKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xufVxuXG5cbmNvbnN0IHBvcHVwRWRpdCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICB7XG4gICAgaGFuZGxlRm9ybVN1Ym1pdDogKGlucHV0c0RhdGEpID0+IHtcbiAgICAgIHJlbmRlckxvYWRpbmcodHJ1ZSwgcG9wdXBFZGl0KTtcbiAgICAgIGFwaS51cGRhdGVQcm9maWxlKHtcbiAgICAgICAgdXNlckRhdGE6IGlucHV0c0RhdGEsXG4gICAgICB9KVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyhyZXN1bHQpO1xuICAgICAgICBwb3B1cEVkaXQuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcmVuZGVyTG9hZGluZyhmYWxzZSwgcG9wdXBFZGl0KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdmFsaWRhdG9yOiAoKSA9PiBlZGl0VmFsaWRhdG9yLl9yZXNldEZvcm1WYWxpZGF0aW9uKClcbiAgfSxcbiAgJ3BvcHVwX3R5cGVfZWRpdCcpO1xucG9wdXBFZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHBvcHVwQWRkID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIHtcbiAgICBoYW5kbGVGb3JtU3VibWl0OiAoaW5wdXRzRGF0YSkgPT4ge1xuICAgICAgcmVuZGVyTG9hZGluZyh0cnVlLCBwb3B1cEFkZCk7XG4gICAgICBhcGkuYWRkTmV3Q2FyZCh7Y2FyZERhdGE6IGlucHV0c0RhdGF9KVxuICAgICAgLnRoZW4oKGNhcmREYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgQ2FyZCAoe1xuICAgICAgICAgIGNhcmREYXRhOiBjYXJkRGF0YSxcbiAgICAgICAgICB0ZW1wbGF0ZVNlbGVjdG9yOiBjYXJkVGVtcGxhdGUsXG4gICAgICAgICAgaGFuZGxlQ2FyZENsaWNrLFxuICAgICAgICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxuICAgICAgICAgIGhhbmRsZUxpa2VDbGlja1xuICAgICAgICB9KS5jcmVhdGVDYXJkKGNhcmREYXRhLm93bmVyLl9pZCA9PT0gcHJvZmlsZUluZm8uaWQpO1xuICAgICAgfSkudGhlbigoY2FyZEVsZW1lbnQpID0+IHtcbiAgICAgICAgY2FyZExpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XG4gICAgICAgIHBvcHVwQWRkLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHJlbmRlckxvYWRpbmcoZmFsc2UsIHBvcHVwQWRkKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdmFsaWRhdG9yOiAoKSA9PiBhZGRWYWxpZGF0b3IuX3Jlc2V0Rm9ybVZhbGlkYXRpb24oKVxuICB9LFxuICAncG9wdXBfdHlwZV9hZGQnKTtcbnBvcHVwQWRkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHBvcHVwVXBkYXRlQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIHtcbiAgICBoYW5kbGVGb3JtU3VibWl0OiAoaW5wdXRzRGF0YSkgPT4ge1xuICAgICAgcmVuZGVyTG9hZGluZyh0cnVlLCBwb3B1cFVwZGF0ZUF2YXRhcik7XG4gICAgICBhcGkudXBkYXRlQXZhdGFyKGlucHV0c0RhdGEuYXZhdGFyKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBwb3B1cFVwZGF0ZUF2YXRhci5jbG9zZSgpO1xuICAgICAgICBwcm9maWxlSW5mby5zZXRBdmF0YXIocmVzdWx0LmF2YXRhcik7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHJlbmRlckxvYWRpbmcoZmFsc2UsIHBvcHVwVXBkYXRlQXZhdGFyKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdmFsaWRhdG9yOiAoKSA9PiB1cGRhdGVBdmF0YXJWYWxpZGF0b3IuX3Jlc2V0Rm9ybVZhbGlkYXRpb24oKVxuICB9LFxuICAncG9wdXBfdHlwZV91cGRhdGUtYXZhdGFyJyk7XG5wb3B1cFVwZGF0ZUF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xuXG5cbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IHVzZXJEYXRhID0gcHJvZmlsZUluZm8uZ2V0VXNlckluZm8oKTtcbiAgcG9wdXBFZGl0Lm9wZW4odXNlckRhdGEpO1xufSk7XG5cbmFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBBZGQub3Blbih7bmFtZTogXCJcIiwgbGluazogXCJcIn0pO1xufSk7XG5cbnVwZGF0ZUF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBVcGRhdGVBdmF0YXIub3Blbih7YXZhdGFyOiBcIlwifSk7XG59KTtcbiJdLCJuYW1lcyI6WyJDYXJkIiwiY2FyZERhdGEiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJfZWxlbWVudCIsInJlbW92ZSIsInRoaXMiLCJfY2FyZERhdGEiLCJfbGluayIsImxpbmsiLCJfbmFtZSIsIm5hbWUiLCJfbGlrZXMiLCJsaWtlcyIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwicGljdHVyZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiZXZ0IiwibWV0aG9kIiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJ0b2dnbGUiLCJjYW5CZURlbGV0ZWQiLCJfZ2V0VGVtcGxhdGUiLCJzZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsInN0eWxlIiwiZGlzcGxheSIsIl9zZXRFdmVudExpc3RlbmVycyIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX2NvbnRhaW5lciIsIl9yZW5kZXJlciIsIml0ZW1zIiwiaW5uZXJIVE1MIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJwcmVwZW5kIiwic2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImNhcmRUZW1wbGF0ZSIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9wcm9maWxlTmFtZSIsIl9wcm9maWxlSm9iIiwiX3Byb2ZpbGVBdmF0YXIiLCJ0cmltIiwiam9iIiwiZGF0YSIsImFib3V0IiwiYmFja2dyb3VuZEltYWdlIiwiYXZhdGFyIiwiaWQiLCJfaWQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJrZXkiLCJjbG9zZSIsIl9wb3B1cCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlRXNjQ2xvc2UiLCJhZGQiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInZhbGlkYXRvciIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3ZhbGlkYXRvciIsIl9mb3JtIiwiX2lucHV0c0xpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRzRGF0YSIsIkFycmF5IiwiZnJvbSIsImlucHV0IiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiUG9wdXBXaXRoSW1hZ2UiLCJpbWFnZSIsImNhcHRpb24iLCJGb3JtVmFsaWRhdG9yIiwiZm9ybSIsIl9mb3JtRWxlbWVudCIsIl9zZXR0aW5ncyIsIl9idXR0b25FbGVtZW50IiwiX2lucHV0TGlzdCIsImlucHV0RWxlbWVudCIsIl9oaWRlSW5wdXRFcnJvciIsInNvbWUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsInJlbW92ZUF0dHJpYnV0ZSIsIm5leHRFbGVtZW50U2libGluZyIsInZhbGlkYXRpb25NZXNzYWdlIiwiX3Nob3dJbnB1dEVycm9yIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9nZXRJbnB1dExpc3QiLCJfZ2V0U3VibWl0QnV0dG9uIiwiX3Jlc2V0Rm9ybVZhbGlkYXRpb24iLCJBcGkiLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwidGhlbiIsIl9nZXRSZXNwb25zZURhdGEiLCJ1c2VyRGF0YSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiUG9wdXBEZWxldGVDYXJkIiwicmVuZGVyTG9hZGluZyIsImlzTG9hZGluZyIsInBvcHVwIiwic3VibWl0IiwicGFnZSIsImVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJ1cGRhdGVBdmF0YXJCdXR0b24iLCJhZGRWYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwiZWRpdFZhbGlkYXRvciIsInVwZGF0ZUF2YXRhclZhbGlkYXRvciIsImFwaSIsImF1dGhvcml6YXRpb24iLCJwcm9maWxlSW5mbyIsImNhcmRMaXN0IiwiaXRlbSIsImNhcmRFbGVtZW50IiwiY3JlYXRlQ2FyZCIsIm93bmVyIiwiYWRkSXRlbSIsImdldEluaXRpYWxVc2VySW5mbyIsInJlc3VsdCIsInNldFVzZXJJbmZvIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZ2V0SW5pdGlhbENhcmRzIiwiaW5pdGlhbENhcmRzIiwicmVuZGVySXRlbXMiLCJyZXZlcnNlIiwicG9wdXBXaXRoSW1hZ2UiLCJvcGVuIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwb3B1cERlbGV0ZUNhcmQiLCJkZWxldGVDYXJkIiwiX2RlbGV0ZUNhcmQiLCJmaW5hbGx5IiwiY2hhbmdlTGlrZXMiLCJzZXRMaWtlcyIsInBvcHVwRWRpdCIsInVwZGF0ZVByb2ZpbGUiLCJwb3B1cEFkZCIsImFkZE5ld0NhcmQiLCJwb3B1cFVwZGF0ZUF2YXRhciIsInVwZGF0ZUF2YXRhciIsInNldEF2YXRhciIsImdldFVzZXJJbmZvIl0sInNvdXJjZVJvb3QiOiIifQ==